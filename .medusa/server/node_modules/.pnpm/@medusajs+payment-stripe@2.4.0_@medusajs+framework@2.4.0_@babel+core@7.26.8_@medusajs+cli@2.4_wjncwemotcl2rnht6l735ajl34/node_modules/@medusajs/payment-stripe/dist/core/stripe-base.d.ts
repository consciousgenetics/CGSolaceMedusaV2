import Stripe from "stripe";
import { CreatePaymentProviderSession, PaymentMethodResponse, PaymentProviderContext, PaymentProviderError, PaymentProviderSessionResponse, ProviderWebhookPayload, SavePaymentMethod, SavePaymentMethodResponse, UpdatePaymentProviderSession, WebhookActionResult } from "@medusajs/framework/types";
import { AbstractPaymentProvider, PaymentSessionStatus } from "@medusajs/framework/utils";
import { PaymentIntentOptions, StripeOptions } from "../types";
declare abstract class StripeBase extends AbstractPaymentProvider<StripeOptions> {
    protected readonly options_: StripeOptions;
    protected stripe_: Stripe;
    protected container_: Record<string, unknown>;
    static validateOptions(options: StripeOptions): void;
    protected constructor(cradle: Record<string, unknown>, options: StripeOptions);
    abstract get paymentIntentOptions(): PaymentIntentOptions;
    get options(): StripeOptions;
    normalizePaymentIntentParameters(extra?: Record<string, unknown>): Partial<Stripe.PaymentIntentCreateParams>;
    getPaymentStatus(paymentSessionData: Record<string, unknown>): Promise<PaymentSessionStatus>;
    initiatePayment(input: CreatePaymentProviderSession): Promise<PaymentProviderError | PaymentProviderSessionResponse>;
    authorizePayment(paymentSessionData: Record<string, unknown>, context: Record<string, unknown>): Promise<PaymentProviderError | {
        status: PaymentSessionStatus;
        data: PaymentProviderSessionResponse["data"];
    }>;
    cancelPayment(paymentSessionData: Record<string, unknown>): Promise<PaymentProviderError | PaymentProviderSessionResponse["data"]>;
    capturePayment(paymentSessionData: Record<string, unknown>): Promise<PaymentProviderError | PaymentProviderSessionResponse["data"]>;
    deletePayment(paymentSessionData: Record<string, unknown>): Promise<PaymentProviderError | PaymentProviderSessionResponse["data"]>;
    refundPayment(paymentSessionData: Record<string, unknown>, refundAmount: number): Promise<PaymentProviderError | PaymentProviderSessionResponse["data"]>;
    retrievePayment(paymentSessionData: Record<string, unknown>): Promise<PaymentProviderError | PaymentProviderSessionResponse["data"]>;
    updatePayment(input: UpdatePaymentProviderSession): Promise<PaymentProviderError | PaymentProviderSessionResponse>;
    listPaymentMethods(context: PaymentProviderContext): Promise<PaymentMethodResponse[]>;
    savePaymentMethod(input: SavePaymentMethod): Promise<PaymentProviderError | SavePaymentMethodResponse>;
    getWebhookActionAndData(webhookData: ProviderWebhookPayload["payload"]): Promise<WebhookActionResult>;
    /**
     * Constructs Stripe Webhook event
     * @param {object} data - the data of the webhook request: req.body
     *    ensures integrity of the webhook event
     * @return {object} Stripe Webhook event
     */
    constructWebhookEvent(data: ProviderWebhookPayload["payload"]): Stripe.Event;
    protected buildError(message: string, error: Error): PaymentProviderError;
}
export default StripeBase;
//# sourceMappingURL=stripe-base.d.ts.map